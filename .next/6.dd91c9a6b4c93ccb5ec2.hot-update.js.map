{"version":3,"sources":["/home/ygeman/Projects/git/OddUcation/pages/users/members.js"],"names":["ShowMembers","state","errorMessage","loading","userAddress","balance","name","role","organizationMembersCount","organizationMembers","posts","userPostsCount","socialMedia1","socialMedia2","socialMedia3","addressToAdd","web3","eth","getAccounts","accounts","getBalance","factory","methods","getProfile","call","profileSummary","setState","console","log","length","utils","hexToUtf8","Content","Header","Meta","Description","fromWei","Row","HeaderCell","Body","Cell","value","renderEssentials","marginTop","renderMembers"],"mappings":"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","file":"6.dd91c9a6b4c93ccb5ec2.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, Card, Form, Grid, Input, Message, Table } from 'semantic-ui-react';\nimport Layout from \"../../components/general/Layout\";\nimport factory from '../../ethereum/factory'; // import factory instance\nimport web3 from '../../ethereum/web3';\nimport { Link, Router } from '../../routes';\nimport profile from \"./profile\";\n\nclass ShowMembers extends Component {\n\n  state = {\n    errorMessage: '',\n    loading: false,\n    userAddress: '',\n    balance: '0',\n    name: '',\n    role: '',\n    organizationMembersCount: '0',\n    organizationMembers: '',\n    posts: '',\n    userPostsCount: '0',\n    socialMedia1: '',\n    socialMedia2: '',\n    socialMedia3: '',\n    addressToAdd: ''\n  }\n\n  async componentDidMount() {\n    try {\n      const accounts = await web3.eth.getAccounts();\n      const balance = await web3.eth.getBalance(accounts[0]);\n      const profileSummary = await factory.methods.getProfile(accounts[0]).call();\n      const userPostsCount = await factory.methods.userPostsCount(accounts[0]).call();\n\n      this.setState({ userAddress: accounts[0] });\n      this.setState({ balance: balance });\n\n      if (profileSummary[0] === '1') {\n        this.setState({ role: 'Regular'});\n      }\n      \n      else if (profileSummary[0] === '2') {\n        this.setState({ role: 'Organization' });\n        this.setState({ organizationMembers: profileSummary[4] });\n        console.log(this.state.organizationMembers);\n        console.log(typeof this.state.organizationMembers);\n        this.setState({ organizationMembersCount: profileSummary[4].length });\n      }\n\n      this.setState({ name: web3.utils.hexToUtf8(profileSummary[1]) });\n      this.setState({ socialMedia1: web3.utils.hexToUtf8(profileSummary[2][0]) });\n      this.setState({ socialMedia2: web3.utils.hexToUtf8(profileSummary[2][1]) });\n      this.setState({ socialMedia3: web3.utils.hexToUtf8(profileSummary[2][2]) });\n      this.setState({ posts: profileSummary[3] });\n      this.setState({ userPostsCount: userPostsCount });\n    } catch (err) {\n      console.log(err)\n    }\n  };\n\n  renderEssentials() {\n    const { Content, Header, Meta, Description } = Card;\n\n    return (\n      <Card fluid>\n        <Content>\n          <Header>{this.state.name} ({this.state.role})</Header>\n          <Meta>{this.state.organizationMembersCount} members</Meta>\n          <Meta>{this.state.userPostsCount} posts</Meta>\n          <Description>Balance: {web3.utils.fromWei(this.state.balance, 'ether')} (ETH)</Description>\n          <Content extra>{this.state.socialMedia1}</Content>\n          <Content extra>{this.state.socialMedia2}</Content>\n          <Content extra>{this.state.socialMedia3}</Content>\n        </Content>\n      </Card>\n    );\n  }\n\n  renderMembers() {\n    const { Header, Row, HeaderCell, Body, Cell } = Table;\n\n    \n    for (let value in this.state.organizationMembers) {\n      console.log(value);\n    }\n\n    // return this.state.organizationMembers.map((mem, index) => {\n    //   return (\n    //     <Row>\n    //       <Cell>index {index}</Cell>\n    //       <Cell>mem {mem}</Cell>\n    //     </Row>\n    //   );\n    // });\n\n    // for (let value of this.state.organizationMembers) {\n    //   return (\n    //     <Row>\n    //       <Cell>{value}</Cell>\n    //     </Row>\n    //   );\n    // }\n  }\n\n  render() {\n    const { Header, Row, HeaderCell, Body, Cell } = Table;\n\n    return (\n      <Layout>\n\n        <Link route={`/users/${this.state.userAddress}`}>\n          <a className=\"item\">Back</a>\n        </Link>\n\n        <h3>ShowUsers</h3>\n\n        <Grid>\n          <Grid.Row>\n            <Grid.Column width={4}>\n              {this.renderEssentials()}\n\n              <Link route=\"/posts/new\">\n                <a className=\"item\">\n                  <Button fluid content=\"Create Post\" icon=\"add circle\" primary />\n                </a>\n              </Link>\n\n              <Link route={`/users/${this.state.userAddress}/add-user`}>\n                <a className=\"item\">\n                  <Button fluid content=\"Add User\" icon=\"add circle\" primary style={{ marginTop: '10px' }} />\n                </a>\n              </Link>\n\n              <Link route={`/users/${this.state.userAddress}/show-users`}>\n                <a className=\"item\">\n                  <Button fluid content=\"Show Users\" icon=\"add circle\" primary style={{ marginTop: '10px' }} />\n                </a>\n              </Link>\n              \n            </Grid.Column>\n\n            <Grid.Column width={12}>\n\n              <Table>\n                <Header>\n                  <Row>\n                    <HeaderCell>User Address</HeaderCell>\n                  </Row>\n                </Header>\n\n                <Body>{this.renderMembers()}</Body>\n              </Table>\n\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </Layout>\n    );\n  };\n\n}\n\nexport default ShowMembers;\n\n\n// WEBPACK FOOTER //\n// ./pages/users/members.js"],"sourceRoot":""}