{"version":3,"sources":["/home/ygeman/Projects/git/OddUcation/pages/posts/show.js"],"names":["PostShow","state","ownerName","Body","Cell","Row","props","owner","title","description","contentHash","language","postBalance","date","length","views","viewFee","upVotes","downVotes","paymentOption","category","type","level","tab","web3","utils","hexToUtf8","renderTables","post","Post","query","address","methods","getPostSummary","call","summary","getPostSummaryEnums","enumSummary","factory","getProfile","n","toAscii","postSummary"],"mappings":"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","file":"4.31275ff2e960c66ef284.hot-update.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Player } from 'video-react';\nimport \"video-react/dist/video-react.css\"; // import css\nimport { Card, Grid, Table } from \"semantic-ui-react\";\nimport Layout from \"../../components/general/Layout\";\nimport factory from \"../../ethereum/factory\";\nimport Post from \"../../ethereum/post\"; // not construct (capital P)\nimport web3 from \"../../ethereum/web3\";\nimport { Link, Router } from '../../routes';\n\nclass PostShow extends Component {\n  state = {\n    ownerName: ''\n  };\n\n  static async getInitialProps(props) {\n    const post = Post(props.query.address);\n\n    const summary = await post.methods.getPostSummary().call();\n    const enumSummary = await post.methods.getPostSummaryEnums().call();\n    const n = await factory.methods.getProfile(summary[0]).call();\n\n    return {\n      owner: summary[0],\n      ownerName: n[1],\n      title: web3.utils.toAscii(summary[1]),\n      description: web3.utils.toAscii(summary[2]),\n      contentHash: summary[3],\n      language: web3.utils.toAscii(summary[4]),\n      postBalance: summary[5],\n      date: summary[6],\n      length: summary[7],\n      views: summary[8],\n      viewFee: summary[9],\n      upVotes: summary[10],\n      downVotes: summary[11],\n      paymentOption: enumSummary[0],\n      state: enumSummary[1],\n      category: enumSummary[2],\n      type: enumSummary[3],\n      level: enumSummary[4],\n      postSummary: summary\n    };\n  }\n\n  renderTables() {\n\n    const { Body, Cell, Row } = Table;\n\n    const {\n      owner,\n      ownerName,\n      title,\n      description,\n      contentHash,\n      language,\n      postBalance,\n      date,\n      length,\n      views,\n      viewFee,\n      upVotes,\n      downVotes,\n      paymentOption,\n      state,\n      category,\n      type,\n      level\n    } = this.props;\n\n    const tab = (\n      <Table celled striped>\n        <Body>\n          <Row>\n            <Cell collapsing>Author:</Cell>\n            <Cell textAlign=\"right\">\n              <Link route={`/users/${owner}`}>\n                <a className=\"item\">\n                  {web3.utils.hexToUtf8(ownerName)}\n                </a>\n              </Link>\n            </Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Remaining Pool:</Cell>\n            <Cell textAlign=\"right\">{postBalance}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Uploaded:</Cell>\n            <Cell textAlign=\"right\">{date}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Views:</Cell>\n            <Cell textAlign=\"right\">{views}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Length:</Cell>\n            <Cell textAlign=\"right\">{length}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Level:</Cell>\n            <Cell textAlign=\"right\">\n              {(() => {\n                switch (level) {\n                  case \"0\": return \"Introductory\";\n                  case \"1\": return \"Beginner\";\n                  case \"2\": return \"Intermediate\";\n                  case \"3\": return \"Advanced\";\n                }\n              })()}\n            </Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Language:</Cell>\n            <Cell textAlign=\"right\">{language}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Category:</Cell>\n            <Cell textAlign=\"right\">\n              {(() => {\n                switch (category) {\n                  case \"0\": return \"Programming\";\n                  case \"1\": return \"Math\";\n                }\n              })()}\n            </Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Upvotes:</Cell>\n            <Cell textAlign=\"right\">{upVotes}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Downvotes:</Cell>\n            <Cell textAlign=\"right\">{downVotes}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>View fee:</Cell>\n            <Cell textAlign=\"right\">{viewFee}</Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>State:</Cell>\n            <Cell textAlign=\"right\">\n              {(() => {\n                switch (state) {\n                  case \"0\": return \"Draft\";\n                  case \"1\": return \"Published\";\n                  case \"2\": return \"Archived\";\n                }\n              })()}\n            </Cell>\n          </Row>\n\n          <Row>\n            <Cell collapsing>Type:</Cell>\n            <Cell textAlign=\"right\">\n              {(() => {\n                switch (type) {\n                  case \"0\": return \"Audio\";\n                  case \"1\": return \"Text\";\n                  case \"2\": return \"Video\";\n                }\n              })()}\n            </Cell>\n\n\n          </Row>\n\n          <Row>\n            <Cell collapsing>Payment Option:</Cell>\n            <Cell textAlign=\"right\">\n              {(() => {\n                switch (paymentOption) {\n                  case \"0\": return \"Regular\";\n                  case \"1\": return \"Organization\";\n                }\n              })()}\n            </Cell>\n          </Row>\n        </Body>\n      </Table>\n    );\n\n    return tab;\n  }\n\n  render() {\n    return (\n      <Layout>\n        <h3>{this.props.title}</h3>\n\n        <Grid>\n\n          <Grid.Row>\n            <Grid.Column width={16}>\n              <Player>\n                <source src=\"https://media.w3.org/2010/05/sintel/trailer_hd.mp4\" />\n              </Player>\n            </Grid.Column>\n          </Grid.Row>\n\n          <Grid.Column width={10}>\n            <Card fluid>\n              <Card.Content header=\"Description:\" />\n              <Card.Content\n                description=\"Lorem ipsum dolor sit amet, cu harum tollit temporibus nec, no solum melius quaerendum cum. Id soleat postea pro. Accumsan sapientem mei at, ne dicat nonumy sanctus sea. Fuisset atomorum eu qui. Nostro nominavi salutandi ut mei, ludus epicurei evertitur cu cum. Illum scribentur ad sit, ad per facer eligendi. Cum te idque blandit postulant, at minim verterem erroribus nam, choro platonem ius ut. Graeco quaestio ea mei. Nam wisi albucius hendrerit ei, mel cu ferri ignota phaedrum. Eu mei tollit mollis referrentur. Eum id viderer reprimique. Eos ex alia enim omittantur, mazim melius posidonium at nam. Ut his tantas mucius. Ne modo singulis intellegebat his. Ne vis porro adipisci perpetua, vel ludus salutatus cu.\"\n              />\n            </Card>\n          </Grid.Column>\n\n          <Grid.Column width={6}>{this.renderTables()}</Grid.Column>\n        </Grid>\n      </Layout>\n    );\n  }\n}\n\nexport default PostShow;\n\n\n\n// WEBPACK FOOTER //\n// ./pages/posts/show.js"],"sourceRoot":""}